{"version":3,"sources":["components/Navbar.js","context/UserContext.js","util/Auth.js","components/LoginForm.js","pages/Journeys.js","components/Map.js","components/About.js","components/EventList.js","components/EventCard.js","pages/Journey.js","components/Modal.js","util/API.js","components/ShipForm.js","components/JourneyForm.js","components/EventForm.js","components/EventListItem.js","components/EditEventList.js","pages/CreateJourney.js","components/Container.js","components/ProtectedRoute.js","App.js","index.js"],"names":["Navbar","className","role","aria-label","id","to","createContext","Auth","isLoggedIn","localStorage","getItem","logIn","username","password","cb","axios","post","then","response","setItem","data","token","console","log","logOut","removeItem","getToken","LoginForm","state","changeHandler","e","target","name","value","setState","submitHandler","preventDefault","context","setUser","props","history","push","onSubmit","this","type","onChange","Component","contextType","UserContext","withRouter","Journeys","journeys","get","res","getJourneys","map","journey","key","_id","DefaultIcon","L","icon","iconUrl","iconSize","iconAnchor","Marker","prototype","options","Map","handleClick","event","onClick","mouseEventToLatLng","bounds","boundsArray","events","location","coordinates","center","zoom","maxBounds","layers","tileLayer","worldCopyJump","attribution","isValid","mode","fitBounds","marker","parseFloat","addTo","createMap","createMarkers","createBounds","About","start_date","end_date","description","moment","format","EventList","selectedShip","handleTab","onTabClick","handleEvent","selectedEvent","onEventClick","ships","href","ship","i","aria-hidden","title","EventCard","length","Journey","about","filterEvents","shipId","filter","j","match","params","eventId","childState","generateInfo","getEvent","eventClick","changeTab","_","isEmpty","user","React","Modal","status","children","shipIds","lng","lat","ShipForm","country","handleInputChange","handleFormSubmit","catch","error","placeholder","JourneyForm","allShips","selectedShips","modal","formSubmitted","getShips","API","toggleModal","handleSelectShip","option","JSON","parse","includes","dateCheck","stringify","EventForm","valid_date","isBetween","mindate","enddate","handleShipSelect","shipList","check","checked","checkedShip","index","indexOf","splice","min","defaultLatLng","EventListItem","EditEventList","CreateJourney","journeySubmited","dataReceived","currentJourneyId","currentJourneyData","clickedLatLng","getJourney","getCoord","conditionalRender","journeyFormSubmit","self","maxdate","eventFormSubmit","Container","ProtectedRoute","component","rest","render","App","Provider","exact","path","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.46c6a3b2.chunk.js","sourcesContent":["import React from \"react\";\n\nimport { Link } from \"react-router-dom\";\nfunction Navbar() {\n  return (\n    <nav\n      className=\"navbar is-dark\"\n      role=\"navigation\"\n      aria-label=\"main navigation\"\n    >\n      <div className=\"navbar-brand\">\n        SeaFarers\n        {/* <a\n          role=\"button\"\n          className=\"navbar-burger burger\"\n          aria-label=\"menu\"\n          aria-expanded=\"false\"\n          data-target=\"navbarBasicExample\"\n        >\n          <span aria-hidden=\"true\"></span>\n          <span aria-hidden=\"true\"></span>\n          <span aria-hidden=\"true\"></span>\n        </a> */}\n      </div>\n\n      <div id=\"navbarBasicExample\" className=\"navbar-menu\">\n        <div className=\"navbar-start\">\n          <Link className=\"navbar-item\" to={\"/journeys/new\"}>\n            New Journey\n          </Link>\n\n          <Link className=\"navbar-item\" to={\"/\"}>\n            Journey List\n          </Link>\n        </div>\n      </div>\n\n      <div className=\"navbar-end\"></div>\n    </nav>\n  );\n}\n\nexport default Navbar;\n","import { createContext } from \"react\";\n\nexport default createContext();\n","import axios from \"axios\";\n\nfunction Auth() {\n  function logIn(username, password, cb) {\n    axios\n      .post(\"/api/authenticate\", { username: username, password: password })\n      .then(response => {\n        localStorage.setItem(\"token\", response.data.token);\n        console.log(response.data);\n        cb(response.data);\n      });\n  }\n\n  function logOut(cb) {\n    localStorage.removeItem(\"token\");\n    cb();\n  }\n\n  function getToken() {\n    return localStorage.getItem(\"token\");\n  }\n\n  function isLoggedIn() {\n    if (localStorage.getItem(\"token\")) {\n      return true;\n    } else {\n      return false;\n    }\n  }\n\n  return {\n    isLoggedIn,\n    logIn,\n    logOut,\n    getToken\n  };\n}\n\nexport default Auth();\n","import React, { Component } from \"react\";\nimport { withRouter } from \"react-router-dom\";\nimport UserContext from \"../context/UserContext\";\nimport Auth from \"../util/Auth\";\n\nclass LoginForm extends Component {\n  static contextType = UserContext;\n\n  state = {\n    username: \"\",\n    password: \"\"\n  };\n\n  changeHandler = e => {\n    const { name, value } = e.target;\n    this.setState({ [name]: value });\n  };\n\n  submitHandler = e => {\n    e.preventDefault();\n    const { username, password } = this.state;\n    if (username && password) {\n      Auth.logIn(username, password, response => {\n        this.context.setUser(response);\n        this.props.history.push(\"/\");\n      });\n    }\n  };\n\n  render() {\n    return (\n      <form onSubmit={this.submitHandler}>\n        <input\n          type=\"text\"\n          name=\"username\"\n          value={this.state.username}\n          onChange={this.changeHandler}\n        />\n        <input\n          type=\"password\"\n          name=\"password\"\n          value={this.state.password}\n          onChange={this.changeHandler}\n        />\n        <button type=\"submit\">Submit</button>\n      </form>\n    );\n  }\n}\n\nexport default withRouter(LoginForm);\n","import React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport axios from \"axios\";\nimport LoginForm from \"../components/LoginForm\";\n\nclass Journeys extends Component {\n  state = {\n    journeys: []\n  };\n\n  getJourneys() {\n    axios.get(\"/journeys/all\").then(res => {\n      const journeys = res.data;\n      this.setState({ journeys: journeys });\n    });\n  }\n\n  componentDidMount() {\n    this.getJourneys();\n  }\n  render() {\n    return (\n      <>\n        <LoginForm />\n        <ul>\n          {this.state.journeys.map(journey => {\n            return (\n              <li key={journey._id}>\n                <Link to={\"/journeys/\" + journey._id}>{journey.name}</Link>\n              </li>\n            );\n          })}\n        </ul>\n      </>\n    );\n  }\n}\n\nexport default Journeys;\n","import React, { Component } from \"react\";\nimport L from \"leaflet\";\nimport \"leaflet/dist/leaflet.css\";\nimport \"./Map.css\";\n\nlet DefaultIcon = L.icon({\n  iconUrl:\n    \"https://raw.githubusercontent.com/iconic/open-iconic/master/png/map-marker-8x.png\",\n  iconSize: [32, 32],\n  iconAnchor: [16, 32]\n});\n\nL.Marker.prototype.options.icon = DefaultIcon;\n\nclass Map extends Component {\n  handleClick = event => {\n    if (this.props.onClick) {\n      this.props.onClick(this.map.mouseEventToLatLng(event));\n    }\n  };\n\n  getBounds() {\n    const boundsArray = [];\n    this.props.events.map(function(event) {\n      boundsArray.push([\n        event.location.coordinates[1],\n        event.location.coordinates[0]\n      ]);\n      return null;\n    });\n    let bounds;\n    if (L.bounds(boundsArray)) {\n      bounds = L.bounds(boundsArray);\n    } else {\n      console.log(\"bounds were invalid setting to default\");\n      bounds = L.bounds([-90, -180], [90, 180]);\n    }\n\n    return bounds;\n  }\n  createMap() {\n    this.map = L.map(\"mapid\", {\n      center: [49.8419, 24.0315],\n      zoom: 2,\n\n      maxBounds: [],\n      layers: [\n        L.tileLayer(\"http://{s}.tile.osm.org/{z}/{x}/{y}.png\", {\n          worldCopyJump: true,\n\n          maxBounds: [\n            [-90, -180],\n            [90, 180]\n          ],\n          attribution:\n            '&copy; <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors'\n        })\n      ]\n    });\n  }\n\n  createBounds() {\n    const boundsArray = [];\n    if (this.props.events) {\n      this.props.events.map(function(event) {\n        boundsArray.push([\n          event.location.coordinates[1],\n          event.location.coordinates[0]\n        ]);\n        return null;\n      });\n    }\n    if (L.bounds(boundsArray).isValid() && this.props.mode === \"view\") {\n      this.map.fitBounds(boundsArray);\n    } else {\n      console.log(\"bounds were invalid setting to default\");\n      //this.map.fitWorld();\n    }\n  }\n\n  createMarkers() {\n    if (this.props.events) {\n      this.props.events.map(event => {\n        this.marker = new L.marker([\n          parseFloat(event.location.coordinates[1]),\n          parseFloat(event.location.coordinates[0])\n        ]).addTo(this.map);\n        return null;\n      });\n    }\n  }\n\n  componentDidMount() {\n    this.createMap();\n  }\n\n  componentDidUpdate() {\n    this.createMarkers();\n    this.createBounds();\n  }\n\n  render() {\n    return <div id=\"mapid\" onClick={this.handleClick}></div>;\n  }\n}\nexport default Map;\n","import React from \"react\";\nimport moment from \"moment\";\n\nfunction About({ name, start_date, end_date, description }) {\n  return (\n    <>\n      <h3>{name}</h3>\n      <h5>\n        {moment(start_date).format(\"MMMM Do YYYY\")} -\n        {moment(end_date).format(\"MMMM Do YYYY\")}\n      </h5>\n      <p>{description}</p>\n    </>\n  );\n}\n\nexport default About;\n","import React, { Component } from \"react\";\nimport \"./EventList.css\";\nimport moment from \"moment\";\n\nclass EventList extends Component {\n  state = {\n    selectedShip: 0\n  };\n  handleTab = id => {\n    this.setState({ selectedShip: id }, () => {\n      this.props.onTabClick(this.state);\n    });\n  };\n\n  handleEvent = id => {\n    this.setState({ selectedEvent: id }, () => {\n      this.props.onEventClick(this.state);\n    });\n    this.props.onEventClick(this.state);\n  };\n\n  render() {\n    const { ships, events } = this.props;\n\n    return (\n      <article className=\"pane is-primary\">\n        <p className=\"panel-heading\">Events</p>\n        <p className=\"panel-tabs\">\n          <a\n            onClick={() => {\n              this.handleTab(0);\n            }}\n            href=\"#0\"\n            className={this.state.selectedShip === 0 ? \"is-active\" : \"\"}\n          >\n            All\n          </a>\n\n          {ships.map((ship, i) => {\n            return (\n              <a\n                className={\n                  this.state.selectedShip === ship._id ? \"is-active\" : \"\"\n                }\n                key={i}\n                onClick={() => {\n                  this.handleTab(ship._id);\n                }}\n                href=\"#0\"\n              >\n                {ship.name}\n              </a>\n            );\n          })}\n        </p>\n        <div className=\"scrolls\">\n          {events.map((event, i) => {\n            return (\n              <a\n                onClick={() => {\n                  this.handleEvent(event._id);\n                }}\n                href=\"#0\"\n                key={i}\n                className=\"panel-block is-active\"\n              >\n                <span className=\"panel-icon\">\n                  <i className=\"fas fa-book\" aria-hidden=\"true\"></i>\n                </span>\n                <b>{event.title}</b>\n                <div className=\"datebox is-pulled-right\">\n                  {moment(event.start_date).format(\"MMM Do YYYY\")} -\n                  {moment(event.end_date).format(\"MMM Do YYYY\")}\n                </div>\n              </a>\n            );\n          })}\n        </div>\n      </article>\n    );\n  }\n}\n\nexport default EventList;\n","import React from \"react\";\nimport moment from \"moment\";\n\nfunction EventCard({ event }) {\n  if (event.length > 0) {\n    console.log(event[0]);\n    return (\n      <div className=\"box\">\n        <h1 className=\"title is-5\">{event[0].title}</h1>\n        <h1 className=\"subtitle is-6\">\n          {moment(event[0].start_date).format(\"MMM Do YYYY\")} -\n          {moment(event[0].end_date).format(\"MMM Do YYYY\")}\n        </h1>\n        <p>{event[0].description}</p>\n      </div>\n    );\n  } else\n    return <div className=\"box\">click on an event to see more about it</div>;\n}\n\nexport default EventCard;\n","import React from \"react\";\nimport \"leaflet/dist/leaflet.css\";\nimport \"./Journey.css\";\nimport Map from \"../components/Map\";\nimport About from \"../components/About\";\nimport EventList from \"../components/EventList\";\nimport axios from \"axios\";\nimport UserContext from \"../context/UserContext\";\nimport _ from \"lodash\";\nimport EventCard from \"../components/EventCard\";\n\nclass Journey extends React.Component {\n  static contextType = UserContext;\n\n  state = {\n    about: {},\n    events: [],\n    selectedShip: \"\",\n    selectedEvent: \"\"\n  };\n\n  generateInfo() {\n    const id = this.props.match.params.id;\n    axios.get(\"/journeys/\" + id).then(res => {\n      const about = res.data;\n\n      let events = [];\n\n      for (let i = 0; i < about.ships.length; i++) {\n        for (let j = 0; j < about.ships[i].events.length; j++) {\n          events.push(about.ships[i].events[j]);\n        }\n      }\n\n      this.setState({\n        about: about,\n        events: events\n      });\n    });\n  }\n\n  getEvent(events, eventId) {\n    let event = events.filter(event => event._id === eventId);\n    return event;\n  }\n\n  changeTab(childState) {\n    const { selectedShip } = childState;\n    const events = this.filterEvents(this.state.about.ships, selectedShip);\n    this.setState({ selectedShip: selectedShip, events: events });\n  }\n\n  eventClick(childState) {\n    const { selectedEvent } = childState;\n    this.setState({ selectedEvent: selectedEvent });\n  }\n\n  filterEvents = (ships, shipId) => {\n    if (shipId !== 0) {\n      let ship = ships.filter(ship => ship._id === shipId);\n      return ship[0].events;\n      //this.setState({ events: ship[0].events });\n    }\n    if (shipId === 0) {\n      let events = [];\n\n      for (let i = 0; i < this.state.about.ships.length; i++) {\n        for (let j = 0; j < this.state.about.ships[i].events.length; j++) {\n          events.push(this.state.about.ships[i].events[j]);\n        }\n      }\n      //this.setState({ events: events });\n      return events;\n    }\n  };\n\n  componentDidMount() {\n    this.generateInfo();\n    this.getEvent(this.state.events, this.state.selectedEvent);\n  }\n\n  componentDidUpdate() {\n    this.getEvent(this.state.events, this.state.selectedEvent);\n  }\n\n  render() {\n    console.log(this.state.events);\n    return (\n      <>\n        <article className=\"box is-primary\">\n          <About\n            name={this.state.about.name}\n            start_date={this.state.about.start_date}\n            end_date={this.state.about.end_date}\n            description={this.state.about.description}\n          />\n        </article>\n        <div className=\"columns\">\n          <div className=\"column\">\n            <div className=\"card is-warning\">\n              <EventList\n                onEventClick={childState => {\n                  this.eventClick(childState);\n                }}\n                onTabClick={childState => {\n                  this.changeTab(childState);\n                }}\n                ships={\n                  _.isEmpty(this.state.about.ships) === false\n                    ? this.state.about.ships\n                    : []\n                }\n                events={this.state.events.length > 0 ? this.state.events : []}\n              />\n            </div>\n          </div>\n          <div className=\"column is-two-thirds\">\n            <div className=\"box is-paddingless \">\n              <Map mode=\"view\" events={this.state.events} />\n            </div>\n\n            <EventCard\n              event={\n                this.state.selectedEvent\n                  ? this.getEvent(this.state.events, this.state.selectedEvent)\n                  : []\n              }\n            />\n          </div>\n        </div>\n        <div className=\"box\">\n          <h1>hello {this.context.user && this.context.user.id}!</h1>\n        </div>\n      </>\n    );\n  }\n}\n\nexport default Journey;\n","import React from \"react\";\nimport \"./Modal.css\";\n\nfunction Modal({ status, children, onClick }) {\n  return (\n    <div className={status ? \"show modal\" : \"hidden modal\"}>\n      <div className=\"modal-content\">\n        {children}\n        <button className=\"close-button\" onClick={onClick}>\n          x\n        </button>\n      </div>\n    </div>\n  );\n}\n\nexport default Modal;\n","import axios from \"axios\";\n//get all ships\nexport default {\n  getShips: function() {\n    return axios.get(\"/ships/all\");\n  },\n  //get a single ship\n  getShip: function(id) {\n    return axios.get(`/ships/${id}`);\n  },\n  //get a single Journey\n  getJourney: function(id) {\n    return axios.get(\"/journeys/\" + id);\n  },\n\n  //adds an Event to ships\n  // eventToShips: function(eventId, shipIds) {\n  //   console.log(\"whatep\");\n  //   return axios.put(\"/shipstoevent\", {\n  //     eventId: eventId,\n  //     shipIds: shipIds\n  //   });\n  // },\n  //create a Journey\n  createJourney: function(data) {\n    return axios.post(\"/journeys/create\", {\n      name: data.name,\n      description: data.description,\n      start_date: data.start_date,\n      end_date: data.end_date,\n      ships: data.ships\n    });\n  },\n  //create an event\n  createEvent: function(data, shipIds) {\n    const location = {\n      coordinates: [data.lng, data.lat],\n      type: \"Point\"\n    };\n    return axios.post(\"/events/create\", {\n      title: data.title,\n      description: data.description,\n      start_date: data.start_date,\n      end_date: data.end_date,\n      location: location,\n      shipIds: shipIds\n    });\n  }\n};\n","import React, { Component } from \"react\";\nimport axios from \"axios\";\n\nclass ShipForm extends Component {\n  state = {\n    name: \"\",\n    type: \"\",\n    about: \"\",\n    country: \"\"\n  };\n\n  handleInputChange = event => {\n    const { name, value } = event.target;\n    this.setState({\n      [name]: value\n    });\n  };\n\n  handleFormSubmit = event => {\n    event.preventDefault();\n    console.log(this.state);\n\n    axios\n      .post(\"/ships/create\", {\n        name: this.state.name,\n        type: this.state.type,\n        about: this.state.about,\n        country: this.state.country\n      })\n      .then(function(response) {\n        console.log(response);\n      })\n      .catch(function(error) {\n        console.log(error);\n      });\n    this.setState({\n      name: \"\",\n      type: \"\",\n      about: \"\",\n      country: \"\"\n    });\n    this.props.onSubmit();\n  };\n\n  render() {\n    return (\n      <form className=\"form\">\n        Ship Name:\n        <input\n          value={this.state.name}\n          name=\"name\"\n          onChange={this.handleInputChange}\n          type=\"text\"\n          placeholder=\"name\"\n        />\n        Type:\n        <input\n          value={this.state.type}\n          name=\"type\"\n          onChange={this.handleInputChange}\n          type=\"text\"\n          placeholder=\"type\"\n        />\n        About:\n        <input\n          value={this.state.about}\n          name=\"about\"\n          onChange={this.handleInputChange}\n          type=\"text\"\n          placeholder=\"about\"\n        />\n        Country of Origin:\n        <input\n          value={this.state.country}\n          name=\"country\"\n          onChange={this.handleInputChange}\n          type=\"text\"\n          placeholder=\"country\"\n        />\n        <button onClick={this.handleFormSubmit}>Submit</button>\n      </form>\n    );\n  }\n}\n\nexport default ShipForm;\n","import React from \"react\";\nimport Modal from \"./Modal\";\nimport API from \"../util/API\";\nimport ShipForm from \"../components/ShipForm\";\n\nclass JourneyForm extends React.Component {\n  state = {\n    allShips: [],\n    name: \"\",\n    description: \"\",\n    start_date: \"\",\n    end_date: \"\",\n    selectedShips: [],\n    modal: false,\n    formSubmitted: false\n  };\n\n  handleInputChange = event => {\n    const { name, value } = event.target;\n    this.setState({\n      [name]: value\n    });\n  };\n\n  componentDidMount() {\n    this.getShips();\n  }\n\n  getShips = () => {\n    API.getShips().then(res => {\n      this.setState({ allShips: res.data });\n    });\n  };\n\n  toggleModal = event => {\n    event.preventDefault();\n    this.setState({ modal: !this.state.modal });\n  };\n\n  handleSelectShip = option => {\n    const ship = JSON.parse(option.target.value);\n\n    let selectedShips = this.state.selectedShips;\n    if (!selectedShips.includes(ship)) {\n      selectedShips.push(ship);\n    }\n    this.setState({ selectedShips: selectedShips });\n    console.log(this.state.selectedShips);\n  };\n\n  onSubmit = event => {\n    event.preventDefault();\n    this.props.onSubmit(this.state);\n  };\n\n  dateCheck = () => {\n    if (this.state.end_date < this.state.start_date) {\n      return \"your start date is after your end date!\";\n    }\n  };\n\n  render() {\n    return (\n      <>\n        <form className=\"form\">\n          <div className=\"field\">\n            <label className=\"label is-small\">Journeys Name</label>\n            <input\n              className=\"input is-small\"\n              value={this.state.name}\n              name=\"name\"\n              onChange={this.handleInputChange}\n              type=\"text\"\n              placeholder=\"name\"\n            />\n          </div>\n          <div className=\"field\">\n            <label className=\"label is-small\">Ships on the Journey:</label>\n            {this.state.selectedShips.map(ship => {\n              return <p key={ship._id}>{ship.name}</p>;\n            })}\n            <button onClick={this.toggleModal}>add a ship</button>\n            <select value={this.state.ships} onChange={this.handleSelectShip}>\n              {this.state.allShips.map(ship => {\n                return (\n                  <option key={ship._id} value={JSON.stringify(ship)}>\n                    {ship.name}\n                  </option>\n                );\n              })}\n            </select>\n          </div>\n          <div className=\"field\">\n            <label className=\"label is-small\">Description:</label>\n            <textarea\n              className=\"textarea is-small\"\n              value={this.state.description}\n              name=\"description\"\n              onChange={this.handleInputChange}\n              type=\"text\"\n              placeholder=\"description\"\n            />\n          </div>\n          <label className=\"label is-small\">Start Date - End Date</label>\n          <div className=\"field is-grouped is-grouped-multiline\">\n            <input\n              value={this.state.start_date}\n              name=\"start_date\"\n              onChange={this.handleInputChange}\n              type=\"date\"\n              placeholder=\"start_date\"\n            />\n\n            <input\n              value={this.state.end_date}\n              name=\"end_date\"\n              onChange={this.handleInputChange}\n              type=\"date\"\n              placeholder=\"end_date\"\n            />\n            {this.dateCheck()}\n          </div>\n          <button\n            onClick={event => {\n              this.onSubmit(event);\n            }}\n          >\n            Submit\n          </button>\n        </form>\n        <Modal\n          status={this.state.modal}\n          onClick={event => {\n            this.toggleModal(event);\n          }}\n        >\n          <ShipForm onSubmit={this.getShips} />\n        </Modal>\n      </>\n    );\n  }\n}\n\nexport default JourneyForm;\n","import React, { Component } from \"react\";\nimport moment from \"moment\";\n\nclass EventForm extends Component {\n  state = {\n    description: \"\",\n    start_date: \"\",\n    end_date: \"\",\n    lat: \"\",\n    lng: \"\",\n    title: \"\",\n    formSubmitted: false,\n    selectedShips: [],\n    valid_date: false\n  };\n\n  static getDerivedStateFromProps(props, state) {\n    return {\n      ...state,\n      lat: props.defaultLatLng.lat,\n      lng: props.defaultLatLng.lng\n    };\n  }\n\n  dateCheck = () => {\n    if (this.state.title.length > 30) {\n      return \"please enter a shorter title <30\";\n    }\n    if (\n      !moment(this.state.start_date).isBetween(\n        this.props.mindate,\n        this.props.enddate\n      )\n    ) {\n      return \"your start date is outside the Journey!\";\n    } else if (\n      !moment(this.state.end_date).isBetween(\n        this.props.mindate,\n        this.props.enddate\n      )\n    ) {\n      return \"your end date is out the Journey\";\n    } else if (this.state.start_date > this.state.end_date) {\n      return \"your end date is before your start date\";\n    } else return \"\";\n  };\n\n  handleShipSelect = event => {\n    let shipList = this.state.selectedShips;\n    let check = event.target.checked;\n    let checkedShip = event.target.value;\n    if (check) {\n      this.setState({\n        selectedShips: [...this.state.selectedShips, checkedShip]\n      });\n    } else {\n      const index = shipList.indexOf(checkedShip);\n      shipList.splice(index, 1);\n      this.setState({\n        selectedShips: shipList\n      });\n    }\n  };\n  handleInputChange = event => {\n    const { name, value } = event.target;\n\n    this.setState({\n      [name]: value\n    });\n  };\n\n  onSubmit = event => {\n    event.preventDefault();\n    this.props.onSubmit(this.state);\n  };\n\n  render() {\n    console.log(this.state.selectedShips);\n    return (\n      <form className=\"form\">\n        {this.props.allShips.map((ship, i) => {\n          return (\n            <div key={i}>\n              {ship.name}\n              <input\n                type=\"checkbox\"\n                name={ship.name}\n                value={ship._id}\n                onChange={this.handleShipSelect}\n              />\n            </div>\n          );\n        })}\n\n        <input\n          value={this.state.title}\n          name=\"title\"\n          onChange={this.handleInputChange}\n          type=\"text\"\n          placeholder=\"title\"\n        />\n        <input\n          value={this.state.description}\n          name=\"description\"\n          onChange={this.handleInputChange}\n          type=\"text\"\n          placeholder=\"description\"\n        />\n\n        <input\n          value={this.state.lng}\n          name=\"lng\"\n          onChange={this.handleInputChange}\n          type=\"number\"\n          placeholder=\"lng\"\n        />\n\n        <input\n          value={this.state.lat}\n          name=\"lat\"\n          onChange={this.handleInputChange}\n          type=\"number\"\n          placeholder=\"lng\"\n        />\n\n        <input\n          min={this.props.mindate}\n          value={this.state.start_date}\n          name=\"start_date\"\n          onChange={this.handleInputChange}\n          type=\"date\"\n          placeholder=\"start date\"\n        />\n\n        <input\n          value={this.state.end_date}\n          name=\"end_date\"\n          onChange={this.handleInputChange}\n          type=\"date\"\n          placeholder=\"end date\"\n        />\n\n        <div>{this.dateCheck()}</div>\n\n        <button\n          onClick={event => {\n            this.onSubmit(event);\n          }}\n        >\n          Submit\n        </button>\n      </form>\n    );\n  }\n}\n\nexport default EventForm;\n","import React from \"react\";\nimport moment from \"moment\";\n\nfunction EventListItem({ start_date, end_date, description }) {\n  return (\n    <li>\n      <b>{description} </b>\n      {moment(start_date).format(\"MMMM Do YYYY\")}-\n      {moment(end_date).format(\"MMMM Do YYYY\")}\n    </li>\n  );\n}\n\nexport default EventListItem;\n","import React from \"react\";\n\nfunction EditEventList({ children }) {\n  return (\n    <>\n      <h3>Event List</h3>\n      <div className=\"scroll\">\n        <ul>{children}</ul>\n      </div>\n    </>\n  );\n}\n\nexport default EditEventList;\n","import React, { Component } from \"react\";\nimport JourneyForm from \"../components/JourneyForm\";\nimport EventForm from \"../components/EventForm\";\nimport Map from \"../components/Map\";\nimport moment from \"moment\";\nimport API from \"../util/API\";\nimport About from \"../components/About\";\nimport _ from \"lodash\";\nimport EventListItem from \"../components/EventListItem\";\nimport EditEventList from \"../components/EditEventList\";\nclass CreateJourney extends Component {\n  state = {\n    journeySubmited: false,\n    allShips: [],\n    name: \"\",\n    description: \"\",\n    start_date: \"\",\n    end_date: \"\",\n    selectedShips: [],\n    modal: false,\n    formSubmitted: false,\n    dataReceived: false,\n    currentJourneyId: \"\",\n    currentJourneyData: {},\n    clickedLatLng: {}\n  };\n  //\n  eventFormSubmit(childState) {\n    console.log(childState.title.length);\n\n    if (\n      !moment(childState.start_date).isBetween(\n        this.state.currentJourneyData.start_date,\n        this.state.currentJourneyData.end_date\n      )\n    ) {\n      return \"your start date is outside the Journey!\";\n    } else if (childState.title.length > 30) {\n      return \"please enter a shorter title <30\";\n    } else if (\n      !moment(childState.end_date).isBetween(\n        this.state.currentJourneyData.start_date,\n        this.state.currentJourneyData.end_date\n      )\n    ) {\n      return \"your end date is out the Journey\";\n    } else if (childState.start_date > childState.end_date) {\n      return \"your end date is before your start date\";\n    } else {\n      const shipIds = childState.selectedShips;\n      console.log(shipIds);\n      API.createEvent(childState, shipIds)\n        .then(response => {\n          this.getJourney();\n        })\n        .catch(error => {\n          console.log(error);\n        });\n    }\n  }\n\n  journeyFormSubmit(childState) {\n    const { start_date, end_date } = childState;\n    if (start_date <= end_date) {\n      const self = this;\n      const shipIds = [];\n      childState.selectedShips.map(ship => {\n        shipIds.push(ship._id);\n        return null;\n      });\n      const data = { ...childState, ships: shipIds };\n\n      API.createJourney(data)\n        .then(function(response) {\n          self.setState({\n            currentJourneyId: response.data._id,\n            formSubmitted: true\n          });\n        })\n        .catch(function(error) {\n          console.log(error);\n        });\n    }\n  }\n\n  componentDidMount() {\n    if (_.isEmpty(this.state.currentJourneyData) === false) {\n      this.getJourney();\n    }\n  }\n  getJourney = () => {\n    API.getJourney(this.state.currentJourneyId).then(response => {\n      const currentJourneyData = response.data;\n      this.setState({\n        ships: currentJourneyData.ships,\n        dataReceived: true,\n        ...currentJourneyData,\n        currentJourneyData\n      });\n    });\n  };\n  getCoord = childState => {\n    const data = { ...childState };\n    //this accounts for when people go to the \"next\" world\n    data.lat = (((data.lat % 360) + 540) % 360) - 180;\n    data.lng = (((data.lng % 360) + 540) % 360) - 180;\n\n    this.setState({ clickedLatLng: data });\n  };\n\n  conditionalRender = () => {\n    if (\n      this.state.formSubmitted === false &&\n      _.isEmpty(this.state.currentJourneyData)\n    ) {\n      return (\n        <JourneyForm\n          onSubmit={childState => {\n            this.journeyFormSubmit(childState);\n          }}\n        />\n      );\n    } else if (\n      this.state.formSubmitted === true &&\n      _.isEmpty(this.state.currentJourneyData)\n    ) {\n      this.getJourney();\n      return <div> getting data </div>;\n    } else if (this.state.dataReceived) {\n      const {\n        name,\n        description,\n        start_date,\n        end_date\n      } = this.state.currentJourneyData;\n      return (\n        <About\n          name={name}\n          description={description}\n          start_date={start_date}\n          end_date={end_date}\n        />\n      );\n    }\n  };\n\n  filterEvents = () => {\n    let events = [];\n    for (let i = 0; i < this.state.currentJourneyData.ships.length; i++) {\n      for (\n        let j = 0;\n        j < this.state.currentJourneyData.ships[i].events.length;\n        j++\n      ) {\n        events.push(this.state.currentJourneyData.ships[i].events[j]);\n      }\n    }\n\n    return events;\n  };\n\n  render() {\n    return (\n      <>\n        <div className=\"tile is-ancestor\">\n          <div className=\"tile is-parent is-vertical\">\n            <div className=\"tile is-child card is-primary\">\n              {this.conditionalRender()}\n            </div>\n            <div className=\"tile is-child card is-warning\">\n              {this.state.dataReceived ? (\n                <>\n                  <EventForm\n                    mindate={this.state.currentJourneyData.start_date}\n                    maxdate={this.state.currentJourneyData.end_date}\n                    defaultLatLng={this.state.clickedLatLng}\n                    allShips={this.state.currentJourneyData.ships}\n                    onSubmit={childState => {\n                      this.eventFormSubmit(childState);\n                    }}\n                  />\n                  <EditEventList>\n                    {this.filterEvents().map((event, i) => {\n                      return (\n                        <EventListItem\n                          key={i}\n                          start_date={event.start_date}\n                          end_date={event.end_date}\n                          description={event.description}\n                        />\n                      );\n                    })}\n                  </EditEventList>\n                </>\n              ) : (\n                <div>please create the journey you wish to add events to</div>\n              )}\n            </div>\n          </div>\n          <div className=\"tile is-8 is-parent\">\n            <div className=\"tile is-child card\">\n              {this.state.dataReceived ? (\n                <Map\n                  mode=\"edit\"\n                  events={[...this.filterEvents()]}\n                  onClick={childState => {\n                    this.getCoord(childState);\n                  }}\n                />\n              ) : (\n                <Map\n                  mode=\"edit\"\n                  onClick={childState => {\n                    this.getCoord(childState);\n                  }}\n                />\n              )}\n            </div>\n          </div>\n        </div>\n      </>\n    );\n  }\n}\n\nexport default CreateJourney;\n","import React from \"react\";\nimport \"./Container.css\";\n\nfunction Container({ children }) {\n  return <div className=\"container\">{children}</div>;\n}\n\nexport default Container;\n","import React from \"react\";\nimport { Route, Redirect } from \"react-router-dom\";\nimport Auth from \"../util/Auth\";\n\nconst ProtectedRoute = ({ component: Component, ...rest }) => (\n  <Route\n    {...rest}\n    render={props =>\n      Auth.isLoggedIn() ? <Component {...props} /> : <Redirect to=\"/\" />\n    }\n  />\n);\n\nexport default ProtectedRoute;\n","import React, { Component } from \"react\";\nimport { BrowserRouter as Router, Route, Switch } from \"react-router-dom\";\nimport Navbar from \"./components/Navbar\";\nimport Journeys from \"./pages/Journeys\";\nimport Journey from \"./pages/Journey\";\nimport CreateJourney from \"./pages/CreateJourney\";\nimport Container from \"./components/Container\";\nimport ProtectedRoute from \"./components/ProtectedRoute\";\nimport UserContext from \"./context/UserContext\";\nimport \"./App.css\";\n\nclass App extends Component {\n  state = {\n    user: null\n  };\n\n  setUser = user => {\n    this.setState({ user });\n  };\n  render() {\n    const { user } = this.state;\n    const setUser = this.setUser;\n    return (\n      <UserContext.Provider value={{ user: user, setUser: setUser }}>\n        <Router>\n          <div>\n            <Navbar />\n            <Container>\n              <Switch>\n                <Route exact path=\"/\" component={Journeys} />\n                <ProtectedRoute\n                  exact\n                  path=\"/journeys/new\"\n                  component={CreateJourney}\n                />\n                <Route exact path=\"/journeys/:id\" component={Journey} />\n              </Switch>\n            </Container>\n          </div>\n        </Router>\n      </UserContext.Provider>\n    );\n  }\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"bulma/css/bulma.css\";\nimport \"./index.css\";\nimport App from \"./App\";\n\n//import registerServiceWorker from \"./registerServiceWorker\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n//registerServiceWorker();\n"],"sourceRoot":""}